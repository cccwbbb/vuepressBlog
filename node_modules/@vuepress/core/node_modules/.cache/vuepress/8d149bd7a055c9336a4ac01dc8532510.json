{"remainingRequest":"D:\\vuepress-test2\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\vuepress-test2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vuepress-test2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vuepress-test2\\node_modules\\vuepress-theme-melodydl\\lib\\components\\PostToc.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vuepress-test2\\node_modules\\vuepress-theme-melodydl\\lib\\components\\PostToc.vue","mtime":1652259402341},{"path":"D:\\vuepress-test2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652259401616},{"path":"D:\\vuepress-test2\\node_modules\\babel-loader\\lib\\index.js","mtime":1652259401704},{"path":"D:\\vuepress-test2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652259401616},{"path":"D:\\vuepress-test2\\node_modules\\vue-loader\\lib\\index.js","mtime":1652259401821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmZpeGVkLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHRocm90dGxlIGZyb20gJ2xvZGFzaC50aHJvdHRsZSc7CmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2guZGVib3VuY2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Bvc3RUb2MnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiB7CiAgICAgIHdpZHRoOiAwLAogICAgICBmaXhlZDogZmFsc2UsCiAgICAgIHNjcm9sbExpc3RlbmVyOiB0aHJvdHRsZShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuZml4ZWQgPSBfdGhpcy5pbmZvQ2FyZERvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gPCAwOwogICAgICB9LCAxMDApLAogICAgICByZXNpemVMaXN0ZW5lcjogZGVib3VuY2UoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLndpZHRoID0gX3RoaXMuZ2V0V2lkdGgoKTsKICAgICAgfSwgMTAwKQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBuYXZiYXJIZWlnaHQ6IGZ1bmN0aW9uIG5hdmJhckhlaWdodCgpIHsKICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKS5jbGllbnRIZWlnaHQ7CiAgICB9LAogICAgaW5mb0NhcmREb206IGZ1bmN0aW9uIGluZm9DYXJkRG9tKCkgewogICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FwcCAuaW5mby1jYXJkJyk7CiAgICB9LAogICAgc3R5bGU6IGZ1bmN0aW9uIHN0eWxlKCkgewogICAgICByZXR1cm4gewogICAgICAgIHBvc2l0aW9uOiB0aGlzLmZpeGVkID8gJ2ZpeGVkJyA6ICdyZWxhdGl2ZScsCiAgICAgICAgdG9wOiB0aGlzLmZpeGVkID8gIiIuY29uY2F0KHRoaXMubmF2YmFySGVpZ2h0KSA6IDAsCiAgICAgICAgd2lkdGg6ICIiLmNvbmNhdCh0aGlzLndpZHRoLCAicHgiKQogICAgICB9OwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMud2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxMaXN0ZW5lcik7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemVMaXN0ZW5lcik7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsTGlzdGVuZXIpOwogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplTGlzdGVuZXIpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0V2lkdGg6IGZ1bmN0aW9uIGdldFdpZHRoKCkgewogICAgICByZXR1cm4gdGhpcy5pbmZvQ2FyZERvbS5jbGllbnRXaWR0aDsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;AAWA;AACA;AACA;EACAA,eADA;EAEAC,IAFA,kBAEA;IAAA;;IACA;MACAC,QADA;MAEAC,YAFA;MAGAC;QACA;MACA,CAFA,EAEA,GAFA,CAHA;MAMAC;QACA;MACA,CAFA,EAEA,GAFA;IANA;EAUA,CAbA;EAcAC;IACAC,YADA,0BACA;MACA;IACA,CAHA;IAIAC,WAJA,yBAIA;MACA;IACA,CANA;IAOAC,KAPA,mBAOA;MACA;QACAC,2CADA;QAEAC,kDAFA;QAGAT;MAHA;IAKA;EAbA,CAdA;EA6BAU,OA7BA,qBA6BA;IACA;IACAC;IACAA;EACA,CAjCA;EAkCAC,aAlCA,2BAkCA;IACAD;IACAA;EACA,CArCA;EAuCAE;IACAC,QADA,sBACA;MACA;IACA;EAHA;AAvCA","names":["name","data","width","fixed","scrollListener","resizeListener","computed","navbarHeight","infoCardDom","style","position","top","mounted","window","beforeDestroy","methods","getWidth"],"sourceRoot":"node_modules/vuepress-theme-melodydl/lib/components","sources":["PostToc.vue"],"sourcesContent":["<template>\n  <div \n    class=\"post-toc\"\n    :style=\"style\"\n  >\n    <h4>- CATALOG</h4>\n    <TOC class=\"post-nav-toc\"/>\n  </div>\n</template>\n\n<script>\nimport throttle from 'lodash.throttle'\nimport debounce from 'lodash.debounce'\nexport default {\n  name: 'PostToc',\n  data() {\n    return {\n      width: 0,\n      fixed: false,\n      scrollListener: throttle(() => {\n        this.fixed = this.infoCardDom.getBoundingClientRect().bottom < 0\n      }, 100),\n      resizeListener: debounce(() => {\n        this.width = this.getWidth()\n      }, 100)\n    }\n  },\n  computed: {\n    navbarHeight() {\n      return document.querySelector('.navbar').clientHeight\n    },\n    infoCardDom () {\n      return document.querySelector('#app .info-card')\n    },\n    style() {\n      return {\n        position: this.fixed ? 'fixed' : 'relative',\n        top: this.fixed ? `${this.navbarHeight}` : 0,\n        width: `${this.width}px`,\n      }\n    }\n  },\n  mounted() {\n    this.width = this.getWidth()\n    window.addEventListener('scroll', this.scrollListener)\n    window.addEventListener('resize', this.resizeListener)\n  },\n  beforeDestroy() {\n    window.removeEventListener('scroll', this.scrollListener)\n    window.removeEventListener('resize', this.resizeListener)\n  },\n\n  methods: {\n    getWidth () {\n      return this.infoCardDom.clientWidth\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n.post-toc\n  padding 1rem\n  color $grayTextColor\n  word-break break-all\n  line-height 160%\n  &:first-child\n    font-weight 600\n  .post-nav-toc\n    ul\n      list-style none\n      padding-left 0.4rem\n      word-break normal\n      margin 0.5rem 0\n      & > li\n        white-space nowrap\n        text-overflow ellipsis\n        overflow hidden\n</style>"]}]}